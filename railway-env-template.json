{
  "$schema": "https://json-schema.org/draft-07/schema#",
  "title": "Moltbot Railway Environment Variables Template",
  "description": "Template for Moltbot environment variables on Railway. Copy this and update values with your actual credentials.",
  "type": "object",
  "properties": {
    "core": {
      "type": "object",
      "title": "Core Configuration",
      "description": "Essential runtime configuration",
      "properties": {
        "PORT": {
          "type": "integer",
          "default": 8080,
          "description": "Gateway HTTP server listening port (Railway sets this automatically)"
        },
        "NODE_ENV": {
          "type": "string",
          "enum": ["production", "development"],
          "default": "production",
          "description": "Environment mode"
        },
        "LOG_LEVEL": {
          "type": "string",
          "enum": ["trace", "debug", "info", "warn", "error"],
          "default": "info",
          "description": "Logging verbosity level"
        }
      }
    },
    "storage": {
      "type": "object",
      "title": "Data Storage Configuration",
      "description": "Paths for persistent data storage (must be on /data volume)",
      "properties": {
        "CLAWDBOT_STATE_DIR": {
          "type": "string",
          "default": "/data/.clawdbot",
          "description": "Directory for config, credentials, and state (requires persistent volume)"
        },
        "CLAWDBOT_WORKSPACE_DIR": {
          "type": "string",
          "default": "/data/workspace",
          "description": "Directory for workspace files, agents, skills, sessions (requires persistent volume)"
        }
      }
    },
    "authentication": {
      "type": "object",
      "title": "Gateway Authentication",
      "description": "Security credentials for gateway access",
      "properties": {
        "CLAWDBOT_GATEWAY_TOKEN": {
          "type": "string",
          "description": "Secure token for Gateway WebSocket authentication. Auto-generated by Railway (optional to set)"
        },
        "GATEWAY_PASSWORD": {
          "type": "string",
          "description": "Alternative authentication using password (optional, use if not using token)"
        }
      }
    },
    "llmModels": {
      "type": "object",
      "title": "LLM Provider Configuration",
      "description": "Select ONE provider: Anthropic or OpenAI",
      "properties": {
        "ANTHROPIC_API_KEY": {
          "type": "string",
          "example": "sk-ant-v0-...",
          "description": "Anthropic Claude API key from https://console.anthropic.com/. Optional if using OpenAI."
        },
        "OPENAI_API_KEY": {
          "type": "string",
          "example": "sk-...",
          "description": "OpenAI API key from https://platform.openai.com/api-keys. Optional if using Anthropic."
        }
      }
    },
    "channels": {
      "type": "object",
      "title": "Channel Integration Credentials",
      "description": "Tokens for connecting to messaging platforms (all optional)",
      "properties": {
        "telegram": {
          "type": "object",
          "properties": {
            "TELEGRAM_BOT_TOKEN": {
              "type": "string",
              "example": "[YOUR_TELEGRAM_BOT_TOKEN]",
              "description": "Telegram bot token from @BotFather (format: 123456:ABC...)"
            }
          }
        },
        "discord": {
          "type": "object",
          "properties": {
            "DISCORD_BOT_TOKEN": {
              "type": "string",
              "example": "[YOUR_DISCORD_BOT_TOKEN]",
              "description": "Discord bot token from Discord Developer Portal"
            }
          }
        },
        "slack": {
          "type": "object",
          "properties": {
            "SLACK_BOT_TOKEN": {
              "type": "string",
              "example": "[YOUR_SLACK_BOT_TOKEN]",
              "description": "Slack bot token (format: xoxb-...)"
            },
            "SLACK_APP_TOKEN": {
              "type": "string",
              "example": "[YOUR_SLACK_APP_TOKEN]",
              "description": "Slack app token for socket mode (format: xapp-...)"
            }
          }
        },
        "twilio": {
          "type": "object",
          "properties": {
            "TWILIO_ACCOUNT_SID": {
              "type": "string",
              "example": "[YOUR_TWILIO_ACCOUNT_SID]",
              "description": "Twilio Account SID from https://www.twilio.com/console (format: AC...)"
            },
            "TWILIO_AUTH_TOKEN": {
              "type": "string",
              "example": "[YOUR_TWILIO_AUTH_TOKEN]",
              "description": "Twilio Auth Token from https://www.twilio.com/console"
            },
            "TWILIO_WHATSAPP_FROM": {
              "type": "string",
              "example": "[YOUR_TWILIO_WHATSAPP_FROM]",
              "description": "Twilio WhatsApp sender number (format: whatsapp:+1...)"
            }
          }
        }
      }
    },
    "debug": {
      "type": "object",
      "title": "Debug & Development",
      "description": "Development and debugging options",
      "properties": {
        "CLAWDBOT_DEBUG": {
          "type": "boolean",
          "default": false,
          "description": "Enable verbose debug logging"
        }
      }
    }
  },
  "examples": [
    {
      "title": "Minimal Production (Anthropic)",
      "config": {
        "PORT": 8080,
        "NODE_ENV": "production",
        "LOG_LEVEL": "info",
        "CLAWDBOT_STATE_DIR": "/data/.clawdbot",
        "CLAWDBOT_WORKSPACE_DIR": "/data/workspace",
        "ANTHROPIC_API_KEY": "[YOUR_ANTHROPIC_API_KEY]"
      }
    },
    {
      "title": "Production with Telegram (OpenAI)",
      "config": {
        "PORT": 8080,
        "NODE_ENV": "production",
        "LOG_LEVEL": "info",
        "CLAWDBOT_STATE_DIR": "/data/.clawdbot",
        "CLAWDBOT_WORKSPACE_DIR": "/data/workspace",
        "OPENAI_API_KEY": "[YOUR_OPENAI_API_KEY]",
        "TELEGRAM_BOT_TOKEN": "[YOUR_TELEGRAM_BOT_TOKEN]"
      }
    },
    {
      "title": "Full Multi-Channel Setup",
      "config": {
        "PORT": 8080,
        "NODE_ENV": "production",
        "LOG_LEVEL": "info",
        "CLAWDBOT_STATE_DIR": "/data/.clawdbot",
        "CLAWDBOT_WORKSPACE_DIR": "/data/workspace",
        "ANTHROPIC_API_KEY": "[YOUR_ANTHROPIC_API_KEY]",
        "TELEGRAM_BOT_TOKEN": "[YOUR_TELEGRAM_BOT_TOKEN]",
        "DISCORD_BOT_TOKEN": "[YOUR_DISCORD_BOT_TOKEN]",
        "SLACK_BOT_TOKEN": "[YOUR_SLACK_BOT_TOKEN]",
        "TWILIO_ACCOUNT_SID": "[YOUR_TWILIO_ACCOUNT_SID]",
        "TWILIO_AUTH_TOKEN": "[YOUR_TWILIO_AUTH_TOKEN]",
        "TWILIO_WHATSAPP_FROM": "[YOUR_TWILIO_WHATSAPP_FROM]"
      }
    }
  ],
  "instructions": {
    "railway_setup": "To use this in Railway:\n1. Go to your Railway project dashboard\n2. Find the moltbot-railway service\n3. Click 'Variables' tab\n4. Click 'Raw Editor'\n5. Add each key=value pair from one of the examples above\n6. Keep sensitive keys private - never commit to git\n7. Click 'Save' to apply",
    "security": "ðŸ”’ Security Notes:\n- Never commit API keys to git\n- Store all secrets in Railway Variables (encrypted)\n- Use strong tokens - auto-generated ones are recommended\n- Railway provides free HTTPS for all deployments\n- Restrict API key permissions to minimum required\n- Rotate sensitive tokens periodically",
    "persistent_volume": "ðŸ“¦ Important: Persistent Volume Setup\n- Create a volume in Railway at /data with 5GB+ space\n- CLAWDBOT_STATE_DIR must point to /data path\n- CLAWDBOT_WORKSPACE_DIR must point to /data path\n- Without this, data will be lost on service restart"
  }
}
